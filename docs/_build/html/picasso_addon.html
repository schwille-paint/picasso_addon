

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Submodules &mdash; picasso_addon 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contact" href="contact.html" />
    <link rel="prev" title="API" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> picasso_addon
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-picasso_addon.autopick">picasso_addon.autopick</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-picasso_addon.io">picasso_addon.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-picasso_addon.localize">picasso_addon.localize</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">picasso_addon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API</a> &raquo;</li>
        
      <li>Submodules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/picasso_addon.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="submodules">
<h1>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-picasso_addon.autopick">
<span id="picasso-addon-autopick"></span><h2>picasso_addon.autopick<a class="headerlink" href="#module-picasso_addon.autopick" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="picasso_addon.autopick.check_spots">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">check_spots</code><a class="headerlink" href="#picasso_addon.autopick.check_spots" title="Permalink to this definition">¶</a></dt>
<dd><p>Check all boxes around x,y for number of localizations, active pixels and center of mass position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frame</strong> (<em>np.array</em>) – Subpixel rendered localization image.</p></li>
<li><p><strong>y</strong> (<em>int</em>) – Box center y-coordinate (row)</p></li>
<li><p><strong>x</strong> (<em>int</em>) – Box center x-coordinate (column)</p></li>
<li><p><strong>box</strong> (<em>int</em>) – Box size in subpixels. Must be uneven!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>[0] (float): Center of mass y-position as measured from y</p></li>
<li><p>[1] (float): Center of mass x-position as measured from x</p></li>
<li><p>[2] (int):   Number of localizations within box</p></li>
<li><p>[3] (int):   Number of subpixels within box with at least one localization</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.autopick.coordinate_convert">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">coordinate_convert</code><span class="sig-paren">(</span><em class="sig-param">spot_centers</em>, <em class="sig-param">viewport_min</em>, <em class="sig-param">oversampling</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.autopick.coordinate_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert spot centers as detected in rendered localizations by given viewport minima and oversampling
back to original localization coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spot_centers</strong> (<em>pandas.DataFrame</em>) – Output of function <code class="docutils literal notranslate"><span class="pre">spotcenters_in_image()[0]</span></code>, i.e. spot center coordinates.</p></li>
<li><p><strong>viewport_min</strong> (<em>tuple</em>) – <code class="docutils literal notranslate"><span class="pre">(min_x,min_y)</span></code> of viewport as in picasso.render.</p></li>
<li><p><strong>oversampling</strong> (<em>int</em>) – Pixel oversampling as in picasso.render</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>spot_centers converted back to orignal localization coordinates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.autopick.get_picked">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">get_picked</code><span class="sig-paren">(</span><em class="sig-param">locs</em>, <em class="sig-param">picks_idx</em>, <em class="sig-param">field='group'</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.autopick.get_picked" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign group ID to locs according to picks_idx as obtained by <code class="docutils literal notranslate"><span class="pre">query_locs_for_centers()</span></code> and sort.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>pandas.DataFrame</em>) – Localizations (see picasso.localize) converted to DataFrame for faster sorting.</p></li>
<li><p><strong>picks_idx</strong> (<em>list</em>) – Single list entries correpond to indices in locs within pick_radius around centers.
See <code class="docutils literal notranslate"><span class="pre">query_locs_for_centers()</span></code>.</p></li>
<li><p><strong>field</strong> (<em>str='group'</em>) – Name of column for group ID in output DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Picked as in <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a>, i.e. original locs with group assigned according to picks defined by picks_idx.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="picasso_addon.autopick.identifyspots_in_image">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">identifyspots_in_image</code><a class="headerlink" href="#picasso_addon.autopick.identifyspots_in_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify boxes above localization threshold in rendered localizations image by using check_spots().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>np.array</em>) – Subpixel rendered localization image.</p></li>
<li><p><strong>minimum_n_locs</strong> (<em>int</em>) – Number of localization threshold for valid boxes</p></li>
<li><p><strong>box</strong> (<em>int</em>) – Box size in subpixels. Must be uneven!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>[0] (int):   Local box maximum y (i.e. box y center coordinate)</p></li>
<li><p>[1] (int):   Local box maximum x (i.e. box x center coordinate)</p></li>
<li><p>[2] (float): Center of mass y-position as measured from y</p></li>
<li><p>[3] (float): Center of mass x-position as measured from x</p></li>
<li><p>[4] (int):   Number of localizations within box</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.autopick.main">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">locs</em>, <em class="sig-param">info</em>, <em class="sig-param">path</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.autopick.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Cluster detection (pick) in localizations by thresholding in number of localizations per cluster.
Cluster centers are determined by creating images of localization list with set oversampling using picasso.render.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>numpy.recarray</em>) – (Undrifted) localization list as created by <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a>.</p></li>
<li><p><strong>info</strong> (<em>list</em><em>(</em><em>dict</em><em>)</em>) – Info to localization list when loaded with picasso.io.load_locs().</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>oversampling</strong> (<em>int=5</em>) – Oversampling for rendering of localization list, i.e. sub-pixels per pixel of original image.</p></li>
<li><p><strong>pick_box</strong> (<em>int=2*oversampling+1</em>) – Box length for spot detection in rendered image similar to <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/localize.html">picasso.localize</a>.</p></li>
<li><p><strong>min_n_locs</strong> (<em>float=0.2*NoFrames</em>) – Detection threshold for number of localizations in cluster.
Standard value is set for <a class="reference external" href="https://www.biorxiv.org/content/10.1101/2020.05.17.100354v1">spt</a>.
Set to lower value for usual DNA-PAINT signal (see <code class="docutils literal notranslate"><span class="pre">lbfcs</span></code>).</p></li>
<li><p><strong>fit_center</strong> (<em>bool=False</em>) – False = Center of mass. True = 2D Gaussian fitting of center.</p></li>
<li><p><strong>pick_diameter</strong> (<em>float=2</em>) – Pick diameter in original pixels.</p></li>
<li><p><strong>lbfcs</strong> (<em>bool=False</em>) – If set to True will overrun min_n_locs and sets it to 0.05*NoFrames.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>[0] (dict):             kwargs passed to function.</p></li>
<li><p>[1] (pandas.DataFrame): Picked localizations, saved with extension _picked.hdf5.</p></li>
<li><p>[2] (pandas.DataFrame): Center positions and number of localizations per pick, saved with extension _autopick.yaml.</p></li>
<li><p>[3] (str):              Full save path.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.autopick.query_locs_for_centers">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">query_locs_for_centers</code><span class="sig-paren">(</span><em class="sig-param">locs</em>, <em class="sig-param">centers</em>, <em class="sig-param">pick_radius=1</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.autopick.query_locs_for_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds up KDtree for locs, queries the tree for localizations within pick_radius (norm of p=2) around centers (xy coordinates).
Output will be list of indices as result of query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>numpy.recarray</em><em> or </em><em>pandas.DataFrame</em>) – Localizations as created by picasso.localize with fields <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong>centers</strong> (<em>np.array</em>) – Pick center coordinates (x,y)</p></li>
<li><p><strong>pick_radius</strong> (<em>float=1</em>) – Pick diameter in px.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of <code class="docutils literal notranslate"><span class="pre">len(centers)</span></code>. Single list entries correpond to indices in <code class="docutils literal notranslate"><span class="pre">locs</span></code> of localizations
within <code class="docutils literal notranslate"><span class="pre">pick_radius</span></code> around <code class="docutils literal notranslate"><span class="pre">centers</span></code>. Hence every list indicates one pick (group).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.autopick.spotcenters_in_image">
<code class="sig-prename descclassname">picasso_addon.autopick.</code><code class="sig-name descname">spotcenters_in_image</code><span class="sig-paren">(</span><em class="sig-param">image</em>, <em class="sig-param">box</em>, <em class="sig-param">min_nlocs</em>, <em class="sig-param">fit=False</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.autopick.spotcenters_in_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Get pick center coordinates in subpixel rendered localization image by either
calculating center of mass or fitting 2D Gaussian.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>np.array</em>) – Subpixel rendered localization image.</p></li>
<li><p><strong>box</strong> (<em>int</em>) – Box size in subpixels. Must be uneven!</p></li>
<li><p><strong>min_nlocs</strong> (<em>int</em>) – Number of localization threshold for valid boxes</p></li>
<li><p><strong>fit</strong> (<em>bool=False</em>) – Employ 2D gaussian fitting? Normally not better performing. If False only center of mass position.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>[0] (pandas.DataFrame): Spot center coordinates (image units) and number of localizations (x,y,n_locs)</p></li>
<li><p>[1] (bool): True if fit was performed</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-picasso_addon.io">
<span id="picasso-addon-io"></span><h2>picasso_addon.io<a class="headerlink" href="#module-picasso_addon.io" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="picasso_addon.io.load_locs">
<code class="sig-prename descclassname">picasso_addon.io.</code><code class="sig-name descname">load_locs</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">container='locs'</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.io.load_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns localization .hdf5 from picasso as pandas.DataFrame and corresponding .yaml as list of dictionaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to .hdf5 file as generated by <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/localize.html">picasso.localize</a></p></li>
<li><p><strong>container</strong> (<em>str</em>) – <dl class="simple">
<dt>Name of dataset within .hdf5 container. Must be set to:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'locs'</span></code> for _locs, _render and _picked .hdf5 files as generated by <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'groups'</span></code> for _pickprops.hdf5 files as generated by <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a>.</p></li>
<li><p>Defaults to <code class="docutils literal notranslate"><span class="pre">'locs'</span></code>.</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>[0] (pandas.DataFrame): Localizations stored under <code class="docutils literal notranslate"><span class="pre">'locs'</span></code> in .hdf5 file</p></li>
<li><p>[1] (list): List of dictionaries contained in .yaml corresponding to .hdf5 file</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.io.save_locs">
<code class="sig-prename descclassname">picasso_addon.io.</code><code class="sig-name descname">save_locs</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">locs</em>, <em class="sig-param">info</em>, <em class="sig-param">mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.io.save_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Save localizations in .hdf5 container and corresponding info in .yaml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>pandas.DataFrame</em>) – Localizations as obtained by <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/localize.html">picasso.localize</a> but converted to pands.DataFrame.</p></li>
<li><p><strong>info</strong> (<em>list</em>) – Info as list of dicts, will be stored in .yaml</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Full save path.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – If <code class="docutils literal notranslate"><span class="pre">mode='picasso_compatible'</span></code> localizations will be stored as nmpy.rec_array to
be readable with <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/filter.html">picasso.filter</a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.io.save_picks">
<code class="sig-prename descclassname">picasso_addon.io.</code><code class="sig-name descname">save_picks</code><span class="sig-paren">(</span><em class="sig-param">locs</em>, <em class="sig-param">pick_diameter</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.io.save_picks" title="Permalink to this definition">¶</a></dt>
<dd><p>Save pick centers in .yaml file so they can be loaded with <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>pandas.DataFrame</em><em> or </em><em>numpy.array</em>) – Spot center coordinates. Must contain fields <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong>pick_diameter</strong> (<em>int</em>) – Pick diameter in pixel as in <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/render.html">picasso.render</a>.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Full save path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Converted locs with entries <code class="docutils literal notranslate"><span class="pre">'Diameter'</span></code>, <code class="docutils literal notranslate"><span class="pre">'Centers'</span></code> and <code class="docutils literal notranslate"><span class="pre">'Shape'</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-picasso_addon.localize">
<span id="picasso-addon-localize"></span><h2>picasso_addon.localize<a class="headerlink" href="#module-picasso_addon.localize" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="picasso_addon.localize.autodetect_mng">
<code class="sig-prename descclassname">picasso_addon.localize.</code><code class="sig-name descname">autodetect_mng</code><span class="sig-paren">(</span><em class="sig-param">movie</em>, <em class="sig-param">info</em>, <em class="sig-param">box</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.localize.autodetect_mng" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically detect minimal net-gradient for localization.
Based on net-gradient distribution of all boxes in raw movie using identify_in_image().
Distribution is taken from 10 frames evenly distributed over total aquisition time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movie</strong> (<em>io.TiffMultiMap</em>) – Movie object as created by picasso.io.load_movie().</p></li>
<li><p><strong>info</strong> (<em>list</em>) – Info file as created by picasso.io.load_movie()</p></li>
<li><p><strong>box</strong> (<em>uneven int</em>) – Box size in pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Minimal net gradient</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="picasso_addon.localize.identify_in_image">
<code class="sig-prename descclassname">picasso_addon.localize.</code><code class="sig-name descname">identify_in_image</code><a class="headerlink" href="#picasso_addon.localize.identify_in_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate net-gradient of all boxes in one image that have a local maximum in its center pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>numpy.array</em>) – One image of movie.</p></li>
<li><p><strong>box</strong> (<em>int</em>) – Box size in pixels. Must be uneven!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Net-gradient of all boxes thath have a local maximum in its center pixel</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.localize.localize_movie">
<code class="sig-prename descclassname">picasso_addon.localize.</code><code class="sig-name descname">localize_movie</code><span class="sig-paren">(</span><em class="sig-param">movie</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.localize.localize_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Localize raw movie using picasso.gausslq</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>movie</strong> (<em>io.TiffMultiMap</em>) – Movie object as created by picasso.io.load_movie().</p>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>localize</strong> (<em>bool=True</em>) – Localize raw movie (see <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/localize.html">picasso.localize</a>)</p></li>
<li><p><strong>baseline</strong> (<em>int=70</em>) – Camera spec. baseline (see <a class="reference external" href="https://picassosr.readthedocs.io/en/latest/localize.html">picasso.localize</a>).</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>[0] (dict): kwargs passed to function</p></li>
<li><p>[1] (numpy.array): Localizations as obtained by picasso.gausslq</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.localize.main">
<code class="sig-prename descclassname">picasso_addon.localize.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">info</em>, <em class="sig-param">path</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.localize.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Localize movie (least squares, GPU fitting if available) and undrift resulting localizations using rcc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>picasso.io</em>) – Either raw movie loaded with picasso.io.load_movie() or_locs.hdf5 loaded with picasso.io.load_locs()</p></li>
<li><p><strong>info</strong> (<em>list</em><em>(</em><em>dicts</em><em>)</em>) – Info to raw movie/_locs.hdf5 loaded with picasso.io.load_movie() or picasso.io.load_locs()</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>localize</strong> (<em>bool=True</em><em>)        </em><em>Localize raw movie</em><em> (</em><em>see picasso.localize</em>) – </p></li>
<li><p><strong>baseline</strong> (<em>int=70</em>) – Camera spec. baseline (see picasso.localize).</p></li>
<li><p><strong>gain</strong> (<em>float=1</em>) – Camera spec. EM gain (see picasso.localize)</p></li>
<li><p><strong>sensitivity</strong> (<em>float=0.56</em>) – Camera spec. sensitivity (see picasso.localize)</p></li>
<li><p><strong>qe</strong> (<em>float=0.82</em>) – Camera spec. sensitivity (see picasso.localize)</p></li>
<li><p><strong>box</strong> (<em>int=5</em>) – Box length (uneven!) of fitted spots (see picasso.localize)</p></li>
<li><p><strong>mng</strong> (<em>int</em><em> or </em><em>str='auto'</em>) – Minimal net-gradient spot detection threshold(see picasso.localize. If set to ‘auto’ minimal net_gradient is determined by autodetect_mng().</p></li>
<li><p><strong>undrift</strong> (<em>bool=True</em><em>)         </em><em>Apply RCC drift correction</em><em> (</em><em>see picasso.render</em>) – </p></li>
<li><p><strong>segments</strong> (<em>int=1000</em>) – Segment length (frames) for undrifting by RCC (see picasso.render)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul>
<li><p>[0][0] Dict of kwargs passed to localize</p></li>
<li><div class="line-block">
<div class="line">[0][1] Localizations (numpy.array) as created by picasso.localize</div>
<div class="line">Will be saved with extension ‘_locs.hdf5’ for usage in picasso.render</div>
</div>
</li>
<li><p>[1][0] Dict of kwargs passed to undriftrcc_locs</p></li>
<li><div class="line-block">
<div class="line">[1][1] Undrifted(RCC) localizations as created by picasso.render.</div>
<div class="line">If undrifing was not succesfull just corresponds to original loclizations.</div>
<div class="line">Will be saved with extension ‘_locs_render.hdf5’ for usage in picasso.render</div>
<div class="line">If undrifting was not succesfull only _locs will be saved.</div>
</div>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="picasso_addon.localize.undriftrcc_locs">
<code class="sig-prename descclassname">picasso_addon.localize.</code><code class="sig-name descname">undriftrcc_locs</code><span class="sig-paren">(</span><em class="sig-param">locs</em>, <em class="sig-param">info</em>, <em class="sig-param">**params</em><span class="sig-paren">)</span><a class="headerlink" href="#picasso_addon.localize.undriftrcc_locs" title="Permalink to this definition">¶</a></dt>
<dd><p>Undrift localization by rcc (see picasso.render).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locs</strong> (<em>numpy.array</em>) – Localizations as obtained by picasso.localize()</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – Meta-data as generated by picasso.localize (.yaml files)</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><p><strong>segments</strong> (<em>int=1000</em>) – Number of frames per segment used for correlation.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>[0] Dictionary of kwargs passed to function</p></li>
<li><p>[1] Undrifted localizations (numpy.array) using picasso.postprocess.undrift().</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contact.html" class="btn btn-neutral float-right" title="Contact" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Florian Stehr

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>